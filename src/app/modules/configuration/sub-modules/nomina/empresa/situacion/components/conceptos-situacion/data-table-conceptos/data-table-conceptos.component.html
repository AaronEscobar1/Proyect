<div class="mt-3">
    
    <!-- Agregar fila -->
    <div class="grid flex-row-reverse">
        <div class="col-12 md:col-4 lg:col-3 text-right">
            <button pButton 
                    pRipple 
                    label="Agregar fila" 
                    class="p-button-secondary"
                    (click)="addNewRow()">
            </button>
        </div>
    </div>

    <p-table [value]="conceptoSituacion" [columns]="columns" #dt
             dataKey="idConcepto" editMode="row"
             [paginator]="true" [rows]="rows"
             styleClass="p-datatable-scrollable" responsiveLayout="scroll"
             [(first)]="pageNumber" [showCurrentPageReport]="true" currentPageReportTemplate="Mostrando {first} a {last} registros de {totalRecords} entradas.">

            <ng-template pTemplate="header">
                <tr>
                    <th *ngFor="let col of columns" [pSortableColumn]="col.field" class="text-center">
                        {{ col.header }}
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                    <th style="width:8rem"></th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-conceptoSituacion let-editing="editing" let-index="rowIndex">
                <tr [pEditableRow]="conceptoSituacion">
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText 
                                       type="text"
                                       class="text-right"
                                       [(ngModel)]="conceptoSituacion.idConcepto"
                                       [disabled]="isEdit">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ conceptoSituacion.idConcepto }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td class="text-right">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText 
                                       type="text"
                                       [(ngModel)]="conceptoSituacion.dialim">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ conceptoSituacion.dialim }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td class="text-right">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <p-dropdown [options]="noSuspender" 
                                            appendTo="body"
                                            class="w-full"
                                            optionLabel="descripcion"
                                            optionValue="susvac"
                                            [(ngModel)]="conceptoSituacion.nmTipoSuspencionVacacTb.susvac">
                                </p-dropdown>
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ conceptoSituacion.nmTipoSuspencionVacacTb ? conceptoSituacion.nmTipoSuspencionVacacTb.descripcion : '-' }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td class="text-center">
                        <button *ngIf="!editing" 
                                pButton
                                pRipple
                                type="button"
                                pInitEditableRow 
                                icon="pi pi-pencil"
                                (click)="onRowEditInit(conceptoSituacion)"
                                class="p-button-rounded p-button-text">
                        </button>
                        <button *ngIf="!editing" 
                                pButton
                                pRipple
                                type="button"
                                icon="pi pi-trash"
                                (click)="onRowDelete(conceptoSituacion)"
                                class="p-button-rounded p-button-text">
                        </button>
                        <button *ngIf="editing" 
                                pButton
                                pRipple
                                type="button"
                                pSaveEditableRow 
                                icon="pi pi-save"
                                class="p-button-rounded p-button-text p-button-success mr-2"
                                (click)="onRowEditSave(conceptoSituacion)">
                        </button>
                        <button *ngIf="editing" 
                                pButton
                                pRipple
                                type="button"
                                pCancelEditableRow 
                                icon="pi pi-times"
                                class="p-button-rounded p-button-text p-button-danger"
                                (click)="onRowEditCancel(conceptoSituacion, index)">
                        </button>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.colspan]="columns.length + 1">
                        <div class="div-center">
                            <div>
                                <div class="div-round"></div>
                                <h5 class="no-data-message-1">Sin datos para mostrar</h5>
                            </div>
                        </div>
                    </td>
                </tr>
            </ng-template>

    </p-table>
</div>